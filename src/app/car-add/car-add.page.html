<ion-content [fullscreen]="true">
  <form (ngSubmit)="addCar()">
    
    <!-- Image Upload -->
    <ion-item>
      <ion-label>Car Images</ion-label>
      <input type="file" (change)="onFileSelected($event)" accept="image/*" multiple>
    </ion-item>

    <!-- Image Previews -->
    <ion-item *ngIf="imagePreviews.length > 0">
      <div style="display: flex; flex-wrap: wrap; gap: 10px;">
        <img *ngFor="let preview of imagePreviews" [src]="preview" alt="Car Image Preview" style="width: 100px; height: 100px; object-fit: cover; border-radius: 5px;">
      </div>
    </ion-item>

    <!-- Brand Dropdown -->
    <ion-item>
      <ion-label>Brand</ion-label>
      <ion-select
        interface="popover"
        placeholder="Select Brand"
        [(ngModel)]="carData.Brand"
        (ionChange)="loadModel(carData.Brand)"
        name="Brand"
      >
        <ion-select-option *ngFor="let brand of carBrands" [value]="brand.BrandID">
          {{ brand.BrandName }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Model Dropdown -->
    <ion-item>
      <ion-label>Model</ion-label>
      <ion-select
        interface="popover"
        placeholder="Select Model"
        [(ngModel)]="carData.Model"
        name="Model"
      >
        <ion-select-option *ngFor="let model of carModels" [value]="model">
          {{ model }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Chassis Type Dropdown -->
    <ion-item>
      <ion-label>Chassis Type</ion-label>
      <ion-select [(ngModel)]="carData.Chassis_type" name="Chassis_type">
        <ion-select-option *ngFor="let type of chassisTypes" [value]="type.Chassis_type">
          {{ type.Label }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Engine Type Dropdown -->
    <ion-item>
      <ion-label>Engine Type</ion-label>
      <ion-select [(ngModel)]="carData.Engine_type" name="Engine_type">
        <ion-select-option *ngFor="let type of engineTypes" [value]="type.Engine_type">
          {{ type.Label }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Transmission Type Dropdown -->
    <ion-item>
      <ion-label>Transmission Type</ion-label>
      <ion-select [(ngModel)]="carData.Transmission_type" name="Transmission_type">
        <ion-select-option *ngFor="let type of transmissionTypes" [value]="type.Type">
          {{ type.Label }}
        </ion-select-option>
      </ion-select>
    </ion-item>

    <!-- Date Picker -->
    <ion-item>
      <ion-label>Date</ion-label>
      <ion-datetime
        presentation="date"
        [preferWheel]="true"
        [(ngModel)]="carData.Year"
        name="Year"
        display-format="YYYY-MM-DD"
        picker-format="YYYY MM DD"
      ></ion-datetime>
    </ion-item>

    <!-- Current KM -->
    <ion-item>
      <ion-label>Current KM</ion-label>
      <ion-input [(ngModel)]="carData.Current_KM" name="Current_KM" type="number"></ion-input>
    </ion-item>

    <!-- Price of Buying -->
    <ion-item>
      <ion-label>Price of Buying</ion-label>
      <ion-input [(ngModel)]="carData.Price_of_buying" name="Price_of_buying" type="number"></ion-input>
    </ion-item>

    <!-- License Plate -->
    <ion-item>
      <ion-label>License Plate</ion-label>
      <ion-input [(ngModel)]="carData.License_plate" name="License_plate"></ion-input>
    </ion-item>

    <!-- Submit Button -->
    <ion-button expand="full" type="submit">Add Car</ion-button>
  </form>
</ion-content>
