<!-- refueling.page.html -->
<ion-content [fullscreen]="true">
  <ion-button expand="full" (click)="toggleForm()">
    {{ showForm ? 'Hide Form' : 'Add Refueling' }}
  </ion-button>

  <!-- Refueling Form -->
  <div *ngIf="showForm">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Add Refueling Record</ion-card-title>
      </ion-card-header>
      <ion-card-content>
        <ion-item>
          <ion-label>Date</ion-label>
          <ion-datetime [(ngModel)]="refuelingData.date" name="date" presentation="date" [preferWheel]="true"></ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Fuel Quantity (liters)</ion-label>
          <ion-input type="number" [(ngModel)]="refuelingData.fuelQuantity" placeholder="Enter Fuel Quantity"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Cost</ion-label>
          <ion-input type="number" [(ngModel)]="refuelingData.cost" placeholder="Enter Cost"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="stacked">Odometer (KM)</ion-label>
          <ion-input type="number" [(ngModel)]="refuelingData.odometer" placeholder="Enter Odometer"></ion-input>
        </ion-item>

        <ion-button expand="full" (click)="addRefuelingRecord()">Save</ion-button>
      </ion-card-content>
    </ion-card>
  </div>

  <!-- List of Refueling Records -->
  <ion-card *ngFor="let refuel of refuelingDocuments">
    <ion-card-header>
      <ion-card-title>Date: {{ refuel.date }}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <p>Fuel Type: {{ refuel.fuelType }}</p>
      <p><strong>Fuel Quantity:</strong> {{ refuel.fuelQuantity }} liters</p>
      <p><strong>Cost:</strong> {{ refuel.cost | currency }}</p>
      <p><strong>Odometer:</strong> {{ refuel.odometer }} KM</p>
      <ion-button color="danger" expand="full" (click)="deleteRefuelingRecord(refuel.id)">
        Delete
      </ion-button>
    </ion-card-content>
  </ion-card>
</ion-content>